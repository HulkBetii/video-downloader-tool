# Cookie Setup Guide - Video Downloader Tool

## 🍪 **Tổng quan**
Hướng dẫn thiết lập và sử dụng cookie files cho Video Downloader Tool để tải video private và file từ OneDrive/SharePoint.

## 📁 **Cookie File Mặc định**
Tool đã được cấu hình sẵn để sử dụng file cookie:
- **File**: `moithuvemmo-my.sharepoint.com_cookies.txt`
- **Vị trí**: `C:\Users\HH\Downloads\video_downloader_tool_donev1\video_downloader_tool\`
- **Loại**: Netscape HTTP Cookie File format
- **Nguồn**: Được tạo bởi yt-dlp
- **Cấu hình**: Sử dụng đường dẫn tuyệt đối để đảm bảo tìm thấy file

## 🔧 **Cách hoạt động**

### 1. **Tự động phát hiện**
- Tool sẽ tự động tìm file cookie trong thư mục project
- Nếu tìm thấy, sẽ tự động chọn và bật cookie
- Nếu không tìm thấy, sẽ hiển thị thông báo lỗi

### 2. **Cấu hình mặc định**
- **Video Download**: Cookie được bật mặc định
- **OneDrive Download**: Cookie được bật mặc định
- **Đường dẫn**: Tự động điền vào input fields

### 3. **Nút khôi phục**
- **🔄 Mặc định**: Khôi phục đường dẫn cookie file mặc định
- **Chọn...**: Chọn cookie file khác từ hệ thống

## 📋 **Cookie File Format**

### Netscape HTTP Cookie File:
```
# Netscape HTTP Cookie File
# This file is generated by yt-dlp.  Do not edit.

domain.com	FALSE	/path	TRUE	expiry	token_name	token_value
```

### Ví dụ từ file hiện tại:
```
moithuvemmo-my.sharepoint.com	FALSE	/	TRUE	1786511083	MSFPC	GUID=...
moithuvemmo-my.sharepoint.com	FALSE	/	TRUE	0	FedAuth	77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4...
```

## 🚀 **Cách sử dụng**

### 1. **Khởi động ứng dụng**
```bash
python main.py
```

### 2. **Cookie đã được cấu hình sẵn**
- ✅ Video Download: Cookie đã được bật và chọn
- ✅ OneDrive Download: Cookie đã được bật và chọn
- ✅ Đường dẫn: Tự động điền

### 3. **Thay đổi cookie file**
- Click **Chọn...** để chọn file cookie khác
- Click **🔄 Mặc định** để khôi phục file mặc định

### 4. **Tắt/bật cookie**
- Bỏ chọn checkbox để tắt cookie
- Chọn checkbox để bật cookie

## 🔍 **Troubleshooting**

### Cookie không hoạt động:
1. **Kiểm tra file tồn tại**: Đảm bảo file cookie có trong thư mục project
2. **Kiểm tra format**: File phải đúng Netscape HTTP Cookie format
3. **Kiểm tra quyền**: Đảm bảo có quyền đọc file
4. **Kiểm tra encoding**: File phải là UTF-8

### Lỗi thường gặp:
- **"Cookie file không tìm thấy"**: File không tồn tại trong thư mục project
- **"Cookie đã bị tắt"**: Checkbox cookie bị bỏ chọn
- **"Cookie file không hợp lệ"**: Format file không đúng

## 📝 **Tạo Cookie File Mới**

### Sử dụng yt-dlp:
```bash
# Tạo cookie từ browser
yt-dlp --cookies-from-browser chrome

# Tạo cookie từ file
yt-dlp --cookies cookies.txt

# Lưu cookie vào file
yt-dlp --cookies cookies.txt --cookies-from-browser chrome
```

### Sử dụng browser extension:
- **Cookie Editor** (Chrome/Firefox)
- **EditThisCookie** (Chrome)
- **Cookie Quick Manager** (Firefox)

## 🎯 **Lợi ích của Cookie**

1. **Video Private**: Tải video yêu cầu đăng nhập
2. **OneDrive Access**: Truy cập file OneDrive/SharePoint private
3. **Bảo mật**: Không cần nhập username/password
4. **Tự động**: Không cần đăng nhập lại mỗi lần

## 🔒 **Bảo mật**

- **Không chia sẻ**: Cookie file chứa thông tin đăng nhập
- **Bảo vệ file**: Đặt file trong thư mục an toàn
- **Cập nhật định kỳ**: Cookie có thể hết hạn
- **Backup**: Sao lưu cookie file quan trọng

## 📚 **Tham khảo**

- [yt-dlp Cookie Documentation](https://github.com/yt-dlp/yt-dlp#cookies)
- [Netscape Cookie Format](https://curl.se/rfc/cookie_spec.html)
- [OneDrive API Authentication](https://docs.microsoft.com/en-us/onedrive/developer/rest-api/getting-started/authentication)
